<% if @error %>
<div class="ui-state-error ui-corner-all" style="padding: 0.5em; margin-bottom: 0.5em;"><%=h @error %></div>
<% end %>
<% if @peinputs %>
  <% if @peinputs.empty? %>
<span><%=h _("No transitions found for the specified time period.") %></span>
  <% else %>
<table id="peinputs">
  <tr>
    <th><%=h _('Time') %></th>
    <th><%=h _('PE Input') %></th>
    <th><%=h _('Node') %></th>
  </tr>
    <% @peinputs.sort{|a,b|
        if a[:timestamp] != b[:timestamp]
          # reverse chronological if timestamps not equal
          b[:timestamp] <=> a[:timestamp]
        elsif a[:node] != b[:node]
          # ascending node uname if different nodes
          a[:node].natcmp(b[:node], true)
        else
          # descending name if timestamp and node are the same
          b[:basename].natcmp(a[:basename], true)
        end
       }.each do |peinput| %>
  <tr>
    <td><%=h peinput[:timestamp] %></td>
    <td><%= link_to peinput[:basename], pe_get_path(
      :from_time => @from_time, :to_time => @to_time,
      :basename => peinput[:basename], :node => peinput[:node],
      :file => "pe-input") %></td>
    <td><%=h peinput[:node] %></td>
    <td><%= link_to _("Details"), pe_get_path(
      :from_time => @from_time, :to_time => @to_time,
      :basename => peinput[:basename], :node => peinput[:node],
      :file => "info"), :target => "hawk-hist-info" %></td>
    <td><%= link_to _("Graph"), pe_get_path(
      :from_time => @from_time, :to_time => @to_time,
      :basename => peinput[:basename], :node => peinput[:node],
      :file => "graph"), :target => "hawk-hist-info" %>
      <%= link_to "(xml)", pe_get_path(
      :from_time => @from_time, :to_time => @to_time,
      :basename => peinput[:basename], :node => peinput[:node],
      :file => "graph", :format => "xml"), :target => "hawk-hist-info" %></td>
  </tr>
    <% end %>
</table>
  <% end %>
<% end %>
